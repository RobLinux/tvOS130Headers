/*
* This header is generated by classdump-dyld 1.0
* on Tuesday, November 5, 2019 at 2:41:55 AM Mountain Standard Time
* Operating System: Version 13.0 (Build 17J586)
* Image Source: /System/Library/PrivateFrameworks/IDS.framework/identityservicesd.app/identityservicesd
* classdump-dyld is licensed under GPLv3, Copyright Â© 2013-2016 by Elias Limneos.
*/

#import <identityservicesd/IMSystemMonitorListener.h>
#import <identityservicesd/IDSCTPNRDelegate.h>

@protocol IDSPhoneNumberValidationStateMachineMessageDelivery, IDSPhoneNumberValidationStateMachineLockdownManager, IDSPreflightStackStore;
@class IDSPushHandler, NSMutableArray, NSDate, IMTimer, IMSystemMonitor, IDSPhoneNumberValidationModeArbiter, IDSSystemAccountAdapter, IDSCTPNR, IDSPreflightStack, NSString;

@interface IDSPhoneNumberValidationStateMachine : NSObject <IMSystemMonitorListener, IDSCTPNRDelegate> {

	IDSPushHandler* _pushHandler;
	long long _status;
	NSMutableArray* _handlers;
	NSMutableArray* _requestors;
	NSMutableArray* _promises;
	unsigned _numberOfSuccessfulSends;
	unsigned _numberOfAttemptsWithoutSuccessfulSend;
	unsigned _numberOfPreflights;
	BOOL _isSMSWarningUp;
	BOOL _hasAcceptedSMSRequest;
	NSDate* _phoneNumberValidationStartDate;
	NSDate* _smsSendDate;
	IMTimer* _lastSendSMSTimer;
	BOOL _commCenterDead;
	BOOL _needsToCheckPhoneNumberState;
	BOOL _didReceiveSIMSetupCompleteNotification;
	id<IDSPhoneNumberValidationStateMachineMessageDelivery> _httpMessageDelivery;
	id<IDSPhoneNumberValidationStateMachineLockdownManager> _lockdownManager;
	IMSystemMonitor* _systemMonitor;
	IDSPhoneNumberValidationModeArbiter* _arbiter;
	IDSSystemAccountAdapter* _systemAccountAdapter;
	id<IDSPreflightStackStore> _preflighStackStore;
	/*^block*/id _inFlightHeartbeatBlock;
	/*^block*/id _inFlightSMSTimeoutBlock;
	IDSCTPNR* _CTPNR;
	NSMutableArray* _registrations;
	NSDate* _nextSendSMSDate;

}

@property (nonatomic,retain) id<IDSPhoneNumberValidationStateMachineMessageDelivery> httpMessageDelivery;              //@synthesize httpMessageDelivery=_httpMessageDelivery - In the implementation block
@property (nonatomic,retain) id<IDSPhoneNumberValidationStateMachineLockdownManager> lockdownManager;                  //@synthesize lockdownManager=_lockdownManager - In the implementation block
@property (nonatomic,retain) IMSystemMonitor * systemMonitor;                                                          //@synthesize systemMonitor=_systemMonitor - In the implementation block
@property (nonatomic,retain) IDSPhoneNumberValidationModeArbiter * arbiter;                                            //@synthesize arbiter=_arbiter - In the implementation block
@property (nonatomic,retain) IDSPushHandler * pushHandler;                                                             //@synthesize pushHandler=_pushHandler - In the implementation block
@property (nonatomic,retain) IDSSystemAccountAdapter * systemAccountAdapter;                                           //@synthesize systemAccountAdapter=_systemAccountAdapter - In the implementation block
@property (nonatomic,retain) id<IDSPreflightStackStore> preflighStackStore;                                            //@synthesize preflighStackStore=_preflighStackStore - In the implementation block
@property (nonatomic,copy) id inFlightHeartbeatBlock;                                                                  //@synthesize inFlightHeartbeatBlock=_inFlightHeartbeatBlock - In the implementation block
@property (nonatomic,copy) id inFlightSMSTimeoutBlock;                                                                 //@synthesize inFlightSMSTimeoutBlock=_inFlightSMSTimeoutBlock - In the implementation block
@property (nonatomic,copy) IDSPreflightStack * currentPreflightStack; 
@property (assign,nonatomic) long long status;                                                                         //@synthesize status=_status - In the implementation block
@property (nonatomic,retain) IDSCTPNR * CTPNR;                                                                         //@synthesize CTPNR=_CTPNR - In the implementation block
@property (nonatomic,retain) NSMutableArray * handlers;                                                                //@synthesize handlers=_handlers - In the implementation block
@property (nonatomic,retain) NSMutableArray * registrations;                                                           //@synthesize registrations=_registrations - In the implementation block
@property (assign,nonatomic) unsigned numberOfSuccessfulSends;                                                         //@synthesize numberOfSuccessfulSends=_numberOfSuccessfulSends - In the implementation block
@property (assign,nonatomic) unsigned numberOfAttemptsWithoutSuccessfulSend;                                           //@synthesize numberOfAttemptsWithoutSuccessfulSend=_numberOfAttemptsWithoutSuccessfulSend - In the implementation block
@property (assign,nonatomic) unsigned numberOfPreflights;                                                              //@synthesize numberOfPreflights=_numberOfPreflights - In the implementation block
@property (assign,nonatomic) BOOL isSMSWarningUp;                                                                      //@synthesize isSMSWarningUp=_isSMSWarningUp - In the implementation block
@property (assign,nonatomic) BOOL hasAcceptedSMSRequest;                                                               //@synthesize hasAcceptedSMSRequest=_hasAcceptedSMSRequest - In the implementation block
@property (assign,nonatomic) BOOL commCenterDead;                                                                      //@synthesize commCenterDead=_commCenterDead - In the implementation block
@property (assign,nonatomic) BOOL needsToCheckPhoneNumberState;                                                        //@synthesize needsToCheckPhoneNumberState=_needsToCheckPhoneNumberState - In the implementation block
@property (assign,nonatomic) BOOL didReceiveSIMSetupCompleteNotification;                                              //@synthesize didReceiveSIMSetupCompleteNotification=_didReceiveSIMSetupCompleteNotification - In the implementation block
@property (nonatomic,retain) NSDate * nextSendSMSDate;                                                                 //@synthesize nextSendSMSDate=_nextSendSMSDate - In the implementation block
@property (nonatomic,retain) NSDate * phoneNumberValidationStartDate;                                                  //@synthesize phoneNumberValidationStartDate=_phoneNumberValidationStartDate - In the implementation block
@property (nonatomic,retain) NSDate * smsSendDate;                                                                     //@synthesize smsSendDate=_smsSendDate - In the implementation block
@property (nonatomic,retain) IMTimer * lastSendSMSTimer;                                                               //@synthesize lastSendSMSTimer=_lastSendSMSTimer - In the implementation block
@property (readonly) unsigned long long hash; 
@property (readonly) Class superclass; 
@property (copy,readonly) NSString * description; 
@property (copy,readonly) NSString * debugDescription; 
-(NSString *)description;
-(void)dealloc;
-(void)invalidate;
-(long long)status;
-(void)setStatus:(long long)arg1 ;
-(long long)_registrationControlStatus;
-(NSMutableArray *)registrations;
-(void)setRegistrations:(NSMutableArray *)arg1 ;
-(void)systemDidStopBackup;
-(void)systemDidFinishMigration;
-(void)systemRestoreStateDidChange;
-(void)addListener:(id)arg1 ;
-(void)removeListener:(id)arg1 ;
-(void)PNRReadyStateChanged:(BOOL)arg1 ;
-(void)PNRRequestSentWithRequestData:(id)arg1 ;
-(void)PNRResponseReceivedWithResponseData:(id)arg1 ;
-(IMSystemMonitor *)systemMonitor;
-(void)setSystemMonitor:(IMSystemMonitor *)arg1 ;
-(void)_registerForLockdownNotifications;
-(void)_lockdownStateChanged:(id)arg1 ;
-(BOOL)commCenterDead;
-(void)setHandlers:(NSMutableArray *)arg1 ;
-(NSMutableArray *)handlers;
-(void)heartbeat;
-(id<IDSPhoneNumberValidationStateMachineLockdownManager>)lockdownManager;
-(void)setLockdownManager:(id<IDSPhoneNumberValidationStateMachineLockdownManager>)arg1 ;
-(IDSPushHandler *)pushHandler;
-(void)setPushHandler:(IDSPushHandler *)arg1 ;
-(IDSSystemAccountAdapter *)systemAccountAdapter;
-(void)setSystemAccountAdapter:(IDSSystemAccountAdapter *)arg1 ;
-(id)initWithCTPNR:(id)arg1 preflightStackStore:(id)arg2 ;
-(void)addPhoneNumberValidationRequestor:(id)arg1 ;
-(void)removePhoneNumberValidationRequestor:(id)arg1 ;
-(void)resetSMSCounter;
-(void)_keychainMigrationComplete:(id)arg1 ;
-(void)_registerForDeviceCenterNotifications;
-(void)_cancelScheduledHeartbeat;
-(void)setInFlightHeartbeatBlock:(id)arg1 ;
-(id)inFlightHeartbeatBlock;
-(void)_cancelScheduledSMSTimeout;
-(void)timedOutWaitingForSMS;
-(void)setInFlightSMSTimeoutBlock:(id)arg1 ;
-(id)inFlightSMSTimeoutBlock;
-(unsigned)loadNumberOfSuccessfulValidationSends;
-(unsigned)loadNumberOfPreflightAttempts;
-(id)initWithCTPNR:(id)arg1 preflightStackStore:(id)arg2 HTTPDelivery:(id)arg3 pushHandler:(id)arg4 lockdownManager:(id)arg5 systemMonitor:(id)arg6 arbiter:(id)arg7 systemAccountAdapter:(id)arg8 ;
-(void)_clearSMSDeliveryTimeout;
-(void)_deviceIDChangedNotification:(id)arg1 ;
-(id<IDSPreflightStackStore>)preflighStackStore;
-(BOOL)_isUserSubscriptionSelectionStillPending;
-(void)_failPromisesWithError:(long long)arg1 ;
-(void)_fulfillPromisesWithPhoneNumber:(id)arg1 token:(id)arg2 ;
-(long long)_errorCodeForRegistrationError:(long long)arg1 ;
-(BOOL)_validSIMStateForRegistration;
-(void)_scheduleHeartbeat:(double)arg1 ;
-(void)handleRegistrationSMSSuccessfullyDeliveredWithTelephonyTimeout:(id)arg1 ;
-(void)handleRegistrationSMSDeliveryFailed;
-(void)handleIncomingSMSForResponse:(id)arg1 ;
-(void)_smsDeliveryClear;
-(BOOL)_canDeliverSMSNow;
-(void)_issueAsyncCoreTelephonyPhoneNumberValidationRequestWithPushToken:(id)arg1 mechanism:(id)arg2 ;
-(void)handleRegistrationSMSDeliveryFailedWithShouldBypassRetry:(BOOL)arg1 ;
-(void)_notifyFailureWithError:(long long)arg1 ;
-(void)_scheduleSMSTimeout:(double)arg1 ;
-(IDSPhoneNumberValidationModeArbiter *)arbiter;
-(void)_setSMSDeliveryTimeout:(double)arg1 ;
-(IDSPreflightStack *)currentPreflightStack;
-(void)_sendPreflightVerificationWithIMSI:(id)arg1 PLMN:(id)arg2 ;
-(void)_performHighestPriorityPreflightVerification;
-(void)setCurrentPreflightStack:(IDSPreflightStack *)arg1 ;
-(void)_sendSMSVerificationWithMechanism:(id)arg1 ;
-(id<IDSPhoneNumberValidationStateMachineMessageDelivery>)httpMessageDelivery;
-(void)persistNumberOfPreflightAttempts:(unsigned)arg1 ;
-(BOOL)_isPhoneNumberIdentificationSupported;
-(BOOL)_userHasDisabledSMSRegistration;
-(BOOL)_isAwaitingUserSelectionDuringSetup;
-(BOOL)_deviceCanRegisterPresently;
-(void)_tryToSendSMSIdentification;
-(void)_requestUserConsentForPhoneNumberValidationWithCompletion:(/*^block*/id)arg1 ;
-(void)_sendPreflightVerificationIfNeeded;
-(void)_popHighestPriorityPreflightVerification;
-(void)persistNumberOfSuccessfulValidationSends:(unsigned)arg1 ;
-(void)_notifySuccess:(id)arg1 ;
-(void)_SIMSetupDidComplete;
-(id)identifyPhoneNumberForRequestor:(id)arg1 queue:(id)arg2 ;
-(void)setHttpMessageDelivery:(id<IDSPhoneNumberValidationStateMachineMessageDelivery>)arg1 ;
-(void)setArbiter:(IDSPhoneNumberValidationModeArbiter *)arg1 ;
-(void)setPreflighStackStore:(id<IDSPreflightStackStore>)arg1 ;
-(IDSCTPNR *)CTPNR;
-(void)setCTPNR:(IDSCTPNR *)arg1 ;
-(unsigned)numberOfSuccessfulSends;
-(void)setNumberOfSuccessfulSends:(unsigned)arg1 ;
-(unsigned)numberOfAttemptsWithoutSuccessfulSend;
-(void)setNumberOfAttemptsWithoutSuccessfulSend:(unsigned)arg1 ;
-(unsigned)numberOfPreflights;
-(void)setNumberOfPreflights:(unsigned)arg1 ;
-(BOOL)isSMSWarningUp;
-(void)setIsSMSWarningUp:(BOOL)arg1 ;
-(BOOL)hasAcceptedSMSRequest;
-(void)setHasAcceptedSMSRequest:(BOOL)arg1 ;
-(void)setCommCenterDead:(BOOL)arg1 ;
-(BOOL)needsToCheckPhoneNumberState;
-(void)setNeedsToCheckPhoneNumberState:(BOOL)arg1 ;
-(BOOL)didReceiveSIMSetupCompleteNotification;
-(void)setDidReceiveSIMSetupCompleteNotification:(BOOL)arg1 ;
-(NSDate *)nextSendSMSDate;
-(void)setNextSendSMSDate:(NSDate *)arg1 ;
-(NSDate *)phoneNumberValidationStartDate;
-(void)setPhoneNumberValidationStartDate:(NSDate *)arg1 ;
-(NSDate *)smsSendDate;
-(void)setSmsSendDate:(NSDate *)arg1 ;
-(IMTimer *)lastSendSMSTimer;
-(void)setLastSendSMSTimer:(IMTimer *)arg1 ;
@end

